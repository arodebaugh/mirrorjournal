{"ast":null,"code":"import _asyncToGenerator from \"/Users/andrewrodebaugh/Downloads/think-app-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { IonInfiniteScroll } from '@ionic/angular';\nimport * as moment from 'moment';\nimport { SettingsComponent } from '../settings/settings.component';\nimport * as CryptoJS from 'crypto-js';\nimport { PasswordDialogComponent } from '../password-dialog/password-dialog.component';\nimport { WelcomeScreenComponent } from '../welcome-screen/welcome-screen.component';\nimport { Directory, Encoding, Filesystem } from '@capacitor/filesystem';\nimport { Haptics, ImpactStyle, NotificationType } from '@capacitor/haptics';\nimport { CardQuickOptionsComponent } from '../card-quick-options/card-quick-options.component';\nimport { WhatsNewComponent } from '../whats-new/whats-new.component';\nimport { Preferences } from '@capacitor/preferences';\nimport { Keyboard, KeyboardStyle } from '@capacitor/keyboard';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"@awesome-cordova-plugins/native-storage/ngx\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@yellowspot/ng-truncate\";\n\nfunction HomePage_div_9_div_1_ion_slide_4_ion_card_subtitle_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-card-subtitle\")(1, \"ion-badge\", 20);\n    i0.ɵɵtext(2, \"Locked\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction HomePage_div_9_div_1_ion_slide_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-slide\")(1, \"ion-card\", 15);\n    i0.ɵɵlistener(\"click\", function HomePage_div_9_div_1_ion_slide_4_Template_ion_card_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const journal_r8 = restoredCtx.$implicit;\n      const ctx_r11 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r11.openJournalPage(\"/tabs/journalView\", journal_r8));\n    });\n    i0.ɵɵelementStart(2, \"ion-card-header\")(3, \"ion-row\")(4, \"ion-col\", 16);\n    i0.ɵɵlistener(\"click\", function HomePage_div_9_div_1_ion_slide_4_Template_ion_col_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const journal_r8 = restoredCtx.$implicit;\n      const ctx_r13 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r13.openJournalPage(\"/tabs/journalView\", journal_r8));\n    });\n    i0.ɵɵelementStart(5, \"ion-card-title\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"ion-col\", 17)(8, \"ion-icon\", 18);\n    i0.ɵɵlistener(\"click\", function HomePage_div_9_div_1_ion_slide_4_Template_ion_icon_click_8_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const journal_r8 = restoredCtx.$implicit;\n      const ctx_r14 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r14.presentCardOptions($event, journal_r8));\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"ion-card-subtitle\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(11, HomePage_div_9_div_1_ion_slide_4_ion_card_subtitle_11_Template, 3, 0, \"ion-card-subtitle\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"ion-card-content\", 19);\n    i0.ɵɵpipe(13, \"words\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const journal_r8 = ctx.$implicit;\n    const i_r9 = ctx.index;\n    const ctx_r7 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(journal_r8.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r7.dateFormattedMemories[i_r9]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", journal_r8.locked);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"innerHTML\", i0.ɵɵpipeBind2(13, 4, ctx_r7.journalContentFormattedMemories[i_r9], 25), i0.ɵɵsanitizeHtml);\n  }\n}\n\nconst _c0 = function () {\n  return {\n    slidesPerView: 1.2,\n    spaceBetween: 0\n  };\n};\n\nfunction HomePage_div_9_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\", 11);\n    i0.ɵɵtext(2, \"Memories\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-slides\", 12);\n    i0.ɵɵtemplate(4, HomePage_div_9_div_1_ion_slide_4_Template, 14, 7, \"ion-slide\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"hr\", 14);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"options\", i0.ɵɵpureFunction0(2, _c0));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.memories);\n  }\n}\n\nfunction HomePage_div_9_ion_col_4_ion_card_subtitle_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-card-subtitle\", 24);\n    i0.ɵɵlistener(\"click\", function HomePage_div_9_ion_col_4_ion_card_subtitle_12_Template_ion_card_subtitle_click_0_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const journal_r15 = i0.ɵɵnextContext().$implicit;\n      const ctx_r18 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r18.openJournalPage(\"/tabs/journalView\", journal_r15));\n    });\n    i0.ɵɵelementStart(1, \"ion-badge\", 20);\n    i0.ɵɵtext(2, \"Locked\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction HomePage_div_9_ion_col_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-col\", 21)(1, \"ion-card\", 22)(2, \"ion-card-header\")(3, \"ion-grid\", 23)(4, \"ion-row\")(5, \"ion-col\", 16);\n    i0.ɵɵlistener(\"click\", function HomePage_div_9_ion_col_4_Template_ion_col_click_5_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r22);\n      const journal_r15 = restoredCtx.$implicit;\n      const ctx_r21 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r21.openJournalPage(\"/tabs/journalView\", journal_r15));\n    });\n    i0.ɵɵelementStart(6, \"ion-card-title\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"ion-col\", 17)(9, \"ion-icon\", 18);\n    i0.ɵɵlistener(\"click\", function HomePage_div_9_ion_col_4_Template_ion_icon_click_9_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r22);\n      const journal_r15 = restoredCtx.$implicit;\n      const ctx_r23 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r23.presentCardOptions($event, journal_r15));\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(10, \"ion-card-subtitle\", 24);\n    i0.ɵɵlistener(\"click\", function HomePage_div_9_ion_col_4_Template_ion_card_subtitle_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r22);\n      const journal_r15 = restoredCtx.$implicit;\n      const ctx_r24 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r24.openJournalPage(\"/tabs/journalView\", journal_r15));\n    });\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, HomePage_div_9_ion_col_4_ion_card_subtitle_12_Template, 3, 0, \"ion-card-subtitle\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"ion-card-content\", 26);\n    i0.ɵɵlistener(\"click\", function HomePage_div_9_ion_col_4_Template_ion_card_content_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r22);\n      const journal_r15 = restoredCtx.$implicit;\n      const ctx_r25 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r25.openJournalPage(\"/tabs/journalView\", journal_r15));\n    });\n    i0.ɵɵpipe(14, \"words\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const journal_r15 = ctx.$implicit;\n    const i_r16 = ctx.index;\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(journal_r15.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r6.dateFormatted[i_r16]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", journal_r15.locked);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"innerHTML\", i0.ɵɵpipeBind2(14, 4, ctx_r6.journalContentFormatted[i_r16], 25), i0.ɵɵsanitizeHtml);\n  }\n}\n\nfunction HomePage_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, HomePage_div_9_div_1_Template, 6, 3, \"div\", 4);\n    i0.ɵɵelementStart(2, \"ion-grid\")(3, \"ion-row\");\n    i0.ɵɵtemplate(4, HomePage_div_9_ion_col_4_Template, 15, 7, \"ion-col\", 8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"ion-infinite-scroll\", 9);\n    i0.ɵɵlistener(\"ionInfinite\", function HomePage_div_9_Template_ion_infinite_scroll_ionInfinite_5_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r26 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r26.loadData($event));\n    });\n    i0.ɵɵelement(6, \"ion-infinite-scroll-content\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"br\")(8, \"br\")(9, \"br\")(10, \"br\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.memories.length > 0);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.journals);\n  }\n}\n\nfunction HomePage_ion_card_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r29 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-card\")(1, \"div\", 27);\n    i0.ɵɵelement(2, \"img\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-card-content\", 27);\n    i0.ɵɵtext(4, \" No entries... why don't you \");\n    i0.ɵɵelementStart(5, \"a\", 24);\n    i0.ɵɵlistener(\"click\", function HomePage_ion_card_10_Template_a_click_5_listener() {\n      i0.ɵɵrestoreView(_r29);\n      const ctx_r28 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r28.openPage(\"/tabs/journalNew\"));\n    });\n    i0.ɵɵtext(6, \"express yourself\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"? \");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction HomePage_ion_fab_11_ion_fab_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r38 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 24);\n    i0.ɵɵlistener(\"click\", function HomePage_ion_fab_11_ion_fab_button_4_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r37 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r37.openSettings());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 36);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction HomePage_ion_fab_11_ion_fab_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r40 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 37);\n    i0.ɵɵlistener(\"click\", function HomePage_ion_fab_11_ion_fab_button_5_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r40);\n      const ctx_r39 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r39.openSettings());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 36);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction HomePage_ion_fab_11_ion_fab_button_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r42 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 24);\n    i0.ɵɵlistener(\"click\", function HomePage_ion_fab_11_ion_fab_button_6_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r42);\n      const ctx_r41 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r41.unlockLockJournals());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 38);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r32 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"name\", ctx_r32.lockIcon);\n  }\n}\n\nfunction HomePage_ion_fab_11_ion_fab_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r44 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 39);\n    i0.ɵɵlistener(\"click\", function HomePage_ion_fab_11_ion_fab_button_7_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r44);\n      const ctx_r43 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r43.unlockLockJournals());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 38);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r33 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"name\", ctx_r33.lockIcon);\n  }\n}\n\nfunction HomePage_ion_fab_11_ion_fab_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r46 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 40);\n    i0.ɵɵlistener(\"click\", function HomePage_ion_fab_11_ion_fab_button_8_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r46);\n      const ctx_r45 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r45.unlockLockJournals());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 38);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r34 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"name\", ctx_r34.lockIcon);\n  }\n}\n\nfunction HomePage_ion_fab_11_ion_fab_button_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r48 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 24);\n    i0.ɵɵlistener(\"click\", function HomePage_ion_fab_11_ion_fab_button_9_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r48);\n      const ctx_r47 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r47.openPage(\"/tabs/journalNew\"));\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 41);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction HomePage_ion_fab_11_ion_fab_button_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r50 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 42);\n    i0.ɵɵlistener(\"click\", function HomePage_ion_fab_11_ion_fab_button_10_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r50);\n      const ctx_r49 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r49.openPage(\"/tabs/journalNew\"));\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 41);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction HomePage_ion_fab_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-fab\", 29)(1, \"ion-fab-button\");\n    i0.ɵɵelement(2, \"ion-icon\", 30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-fab-list\", 31);\n    i0.ɵɵtemplate(4, HomePage_ion_fab_11_ion_fab_button_4_Template, 2, 0, \"ion-fab-button\", 25);\n    i0.ɵɵtemplate(5, HomePage_ion_fab_11_ion_fab_button_5_Template, 2, 0, \"ion-fab-button\", 32);\n    i0.ɵɵtemplate(6, HomePage_ion_fab_11_ion_fab_button_6_Template, 2, 1, \"ion-fab-button\", 25);\n    i0.ɵɵtemplate(7, HomePage_ion_fab_11_ion_fab_button_7_Template, 2, 1, \"ion-fab-button\", 33);\n    i0.ɵɵtemplate(8, HomePage_ion_fab_11_ion_fab_button_8_Template, 2, 1, \"ion-fab-button\", 34);\n    i0.ɵɵtemplate(9, HomePage_ion_fab_11_ion_fab_button_9_Template, 2, 0, \"ion-fab-button\", 25);\n    i0.ɵɵtemplate(10, HomePage_ion_fab_11_ion_fab_button_10_Template, 2, 0, \"ion-fab-button\", 35);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.menuLabel);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.menuLabel);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.menuLabel);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.lockDesc == \"Unlock\" && ctx_r2.menuLabel);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.lockDesc == \"Lock\" && ctx_r2.menuLabel);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.menuLabel);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.menuLabel);\n  }\n}\n\nfunction HomePage_ion_fab_12_ion_fab_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r59 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 24);\n    i0.ɵɵlistener(\"click\", function HomePage_ion_fab_12_ion_fab_button_4_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r59);\n      const ctx_r58 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r58.openPage(\"/tabs/journalNew\"));\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 41);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction HomePage_ion_fab_12_ion_fab_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r61 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 42);\n    i0.ɵɵlistener(\"click\", function HomePage_ion_fab_12_ion_fab_button_5_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r61);\n      const ctx_r60 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r60.openPage(\"/tabs/journalNew\"));\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 41);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction HomePage_ion_fab_12_ion_fab_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r63 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 24);\n    i0.ɵɵlistener(\"click\", function HomePage_ion_fab_12_ion_fab_button_7_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r63);\n      const ctx_r62 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r62.unlockLockJournals());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 38);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r53 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"name\", ctx_r53.lockIcon);\n  }\n}\n\nfunction HomePage_ion_fab_12_ion_fab_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r65 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 39);\n    i0.ɵɵlistener(\"click\", function HomePage_ion_fab_12_ion_fab_button_8_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r65);\n      const ctx_r64 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r64.unlockLockJournals());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 38);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r54 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"name\", ctx_r54.lockIcon);\n  }\n}\n\nfunction HomePage_ion_fab_12_ion_fab_button_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r67 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 40);\n    i0.ɵɵlistener(\"click\", function HomePage_ion_fab_12_ion_fab_button_9_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r67);\n      const ctx_r66 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r66.unlockLockJournals());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 38);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r55 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"name\", ctx_r55.lockIcon);\n  }\n}\n\nfunction HomePage_ion_fab_12_ion_fab_button_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r69 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 24);\n    i0.ɵɵlistener(\"click\", function HomePage_ion_fab_12_ion_fab_button_11_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r69);\n      const ctx_r68 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r68.openSettings());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 36);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction HomePage_ion_fab_12_ion_fab_button_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r71 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 37);\n    i0.ɵɵlistener(\"click\", function HomePage_ion_fab_12_ion_fab_button_12_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r71);\n      const ctx_r70 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r70.openSettings());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 36);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction HomePage_ion_fab_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-fab\", 43)(1, \"ion-fab-button\");\n    i0.ɵɵelement(2, \"ion-icon\", 30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-fab-list\", 31);\n    i0.ɵɵtemplate(4, HomePage_ion_fab_12_ion_fab_button_4_Template, 2, 0, \"ion-fab-button\", 25);\n    i0.ɵɵtemplate(5, HomePage_ion_fab_12_ion_fab_button_5_Template, 2, 0, \"ion-fab-button\", 35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"ion-fab-list\", 44);\n    i0.ɵɵtemplate(7, HomePage_ion_fab_12_ion_fab_button_7_Template, 2, 1, \"ion-fab-button\", 25);\n    i0.ɵɵtemplate(8, HomePage_ion_fab_12_ion_fab_button_8_Template, 2, 1, \"ion-fab-button\", 33);\n    i0.ɵɵtemplate(9, HomePage_ion_fab_12_ion_fab_button_9_Template, 2, 1, \"ion-fab-button\", 34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"ion-fab-list\", 45);\n    i0.ɵɵtemplate(11, HomePage_ion_fab_12_ion_fab_button_11_Template, 2, 0, \"ion-fab-button\", 25);\n    i0.ɵɵtemplate(12, HomePage_ion_fab_12_ion_fab_button_12_Template, 2, 0, \"ion-fab-button\", 32);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r3.menuLabel);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.menuLabel);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r3.menuLabel);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.lockDesc == \"Unlock\" && ctx_r3.menuLabel);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.lockDesc == \"Lock\" && ctx_r3.menuLabel);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r3.menuLabel);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.menuLabel);\n  }\n}\n\nfunction HomePage_ion_fab_13_ion_fab_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r80 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 24);\n    i0.ɵɵlistener(\"click\", function HomePage_ion_fab_13_ion_fab_button_4_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r80);\n      const ctx_r79 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r79.openSettings());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 36);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction HomePage_ion_fab_13_ion_fab_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r82 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 37);\n    i0.ɵɵlistener(\"click\", function HomePage_ion_fab_13_ion_fab_button_5_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r82);\n      const ctx_r81 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r81.openSettings());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 36);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction HomePage_ion_fab_13_ion_fab_button_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r84 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 24);\n    i0.ɵɵlistener(\"click\", function HomePage_ion_fab_13_ion_fab_button_6_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r84);\n      const ctx_r83 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r83.unlockLockJournals());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 38);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r74 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"name\", ctx_r74.lockIcon);\n  }\n}\n\nfunction HomePage_ion_fab_13_ion_fab_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r86 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 39);\n    i0.ɵɵlistener(\"click\", function HomePage_ion_fab_13_ion_fab_button_7_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r86);\n      const ctx_r85 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r85.unlockLockJournals());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 38);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r75 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"name\", ctx_r75.lockIcon);\n  }\n}\n\nfunction HomePage_ion_fab_13_ion_fab_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r88 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 40);\n    i0.ɵɵlistener(\"click\", function HomePage_ion_fab_13_ion_fab_button_8_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r88);\n      const ctx_r87 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r87.unlockLockJournals());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 38);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r76 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"name\", ctx_r76.lockIcon);\n  }\n}\n\nfunction HomePage_ion_fab_13_ion_fab_button_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r90 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 24);\n    i0.ɵɵlistener(\"click\", function HomePage_ion_fab_13_ion_fab_button_9_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r90);\n      const ctx_r89 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r89.openPage(\"/tabs/journalNew\"));\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 41);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction HomePage_ion_fab_13_ion_fab_button_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r92 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 42);\n    i0.ɵɵlistener(\"click\", function HomePage_ion_fab_13_ion_fab_button_10_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r92);\n      const ctx_r91 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r91.openPage(\"/tabs/journalNew\"));\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 41);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction HomePage_ion_fab_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-fab\", 46)(1, \"ion-fab-button\");\n    i0.ɵɵelement(2, \"ion-icon\", 30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-fab-list\", 31);\n    i0.ɵɵtemplate(4, HomePage_ion_fab_13_ion_fab_button_4_Template, 2, 0, \"ion-fab-button\", 25);\n    i0.ɵɵtemplate(5, HomePage_ion_fab_13_ion_fab_button_5_Template, 2, 0, \"ion-fab-button\", 32);\n    i0.ɵɵtemplate(6, HomePage_ion_fab_13_ion_fab_button_6_Template, 2, 1, \"ion-fab-button\", 25);\n    i0.ɵɵtemplate(7, HomePage_ion_fab_13_ion_fab_button_7_Template, 2, 1, \"ion-fab-button\", 33);\n    i0.ɵɵtemplate(8, HomePage_ion_fab_13_ion_fab_button_8_Template, 2, 1, \"ion-fab-button\", 34);\n    i0.ɵɵtemplate(9, HomePage_ion_fab_13_ion_fab_button_9_Template, 2, 0, \"ion-fab-button\", 25);\n    i0.ɵɵtemplate(10, HomePage_ion_fab_13_ion_fab_button_10_Template, 2, 0, \"ion-fab-button\", 35);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r4.menuLabel);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.menuLabel);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r4.menuLabel);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.lockDesc == \"Unlock\" && ctx_r4.menuLabel);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.lockDesc == \"Lock\" && ctx_r4.menuLabel);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r4.menuLabel);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.menuLabel);\n  }\n}\n\nexport let HomePage = /*#__PURE__*/(() => {\n  class HomePage {\n    constructor(modalController, popoverController, alertController, platform, routerOutlet, navCtrl, nativeStorage) {\n      this.modalController = modalController;\n      this.popoverController = popoverController;\n      this.alertController = alertController;\n      this.platform = platform;\n      this.routerOutlet = routerOutlet;\n      this.navCtrl = navCtrl;\n      this.nativeStorage = nativeStorage;\n      this.showJournals = false;\n      this.journals = [];\n      this.dateFormatted = [];\n      this.journalContentFormatted = [];\n      this.dateFormattedMemories = [];\n      this.journalContentFormattedMemories = [];\n      this.sortedJournals = [];\n      this.showLoadmore = false;\n      this.lockIcon = 'lock-closed-outline';\n      this.lockDesc = 'Unlock';\n      this.memories = [];\n      this.menuLabel = false;\n      this.disableClickCard = false;\n      this.search = '';\n      this.fabPos = 1; // 0 start, 1 center, 2 end\n    }\n\n    ngOnInit() {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        const tempHide12new = yield Preferences.get({\n          key: 'hide12new'\n        });\n\n        if (tempHide12new.value !== 'true') {\n          _this.showWhatsNew();\n\n          yield Preferences.set({\n            key: 'hide12new',\n            value: 'true'\n          });\n        }\n\n        _this.platform.ready().then(() => {\n          const systemDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\n\n          if (systemDark) {\n            Keyboard.setStyle({\n              style: KeyboardStyle.Dark\n            });\n          } else {\n            Keyboard.setStyle({\n              style: KeyboardStyle.Light\n            });\n          }\n        });\n      })();\n    }\n\n    ionViewDidEnter() {\n      var _this2 = this;\n\n      return _asyncToGenerator(function* () {\n        _this2.checkMenuPlacement();\n\n        _this2.platform.ready().then(() => {\n          _this2.loadJournal();\n        }).catch(err => {\n          console.log('Error loading platform: ' + JSON.stringify(err));\n        });\n      })();\n    }\n\n    presentCardOptions(ev, journal) {\n      var _this3 = this;\n\n      return _asyncToGenerator(function* () {\n        const popover = yield _this3.popoverController.create({\n          component: CardQuickOptionsComponent,\n          event: ev,\n          translucent: true\n        });\n        popover.onDidDismiss().then(dataReturned => {\n          if (dataReturned.data) {\n            _this3.openJournalPage('/tabs/journalView', journal, dataReturned.data);\n          }\n        });\n        return yield popover.present();\n      })();\n    }\n\n    stripJournalContent(content) {\n      const tagsToStrip = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'h7'];\n\n      for (const i in tagsToStrip) {\n        content = content.replace(new RegExp('<' + tagsToStrip[i] + '.*>.*?<\\/' + tagsToStrip[i] + '>'), '');\n      }\n\n      return content.split('\\n', 1)[0].trim();\n    }\n\n    customSort(a, b) {\n      return new Date(b.date).getTime() - new Date(a.date).getTime();\n    }\n\n    deleteJournal(data) {\n      return _asyncToGenerator(function* () {\n        const contents = yield Filesystem.readFile({\n          path: 'Mirror-app/mirrorJournals.txt',\n          directory: Directory.Documents,\n          encoding: Encoding.UTF8\n        });\n        let outParsed = JSON.parse(contents.data);\n\n        for (const i in outParsed) {\n          if (outParsed.hasOwnProperty(i)) {\n            if (outParsed[i].id === data.id) {\n              outParsed = outParsed.filter(returnableObjects => returnableObjects.id !== data.id);\n              yield Filesystem.deleteFile({\n                path: 'Mirror-app/' + data.id + '.txt',\n                directory: Directory.Documents\n              });\n\n              try {\n                const result = yield Filesystem.writeFile({\n                  path: 'Mirror-app/' + data.id + '.txt',\n                  data: JSON.stringify(outParsed),\n                  directory: Directory.Documents,\n                  encoding: Encoding.UTF8\n                }); // console.log('Wrote file', result);\n              } catch (e) {\n                console.error('Unable to write file', e);\n              }\n            }\n          }\n        }\n      })();\n    }\n\n    loadNextJournal(id, numberLoaded) {\n      var _this4 = this;\n\n      return _asyncToGenerator(function* () {\n        const contents = yield Filesystem.readFile({\n          path: 'Mirror-app/' + id + '.txt',\n          directory: Directory.Documents,\n          encoding: Encoding.UTF8\n        });\n        const output = JSON.parse(contents.data);\n        /* tslint:disable:no-string-literal */\n\n        if (!output['locked'] || _this4.passcode !== undefined && output['locked']) {\n          if (output['locked']) {\n            output['content'] = CryptoJS.AES.decrypt(output['content'], _this4.passcode).toString(CryptoJS.enc.Utf8);\n\n            if (output['notes']) {\n              output['notes'] = JSON.parse(CryptoJS.AES.decrypt(output['notes'], _this4.passcode).toString(CryptoJS.enc.Utf8));\n            }\n          }\n\n          output['id'] = id;\n\n          _this4.journals.push(output);\n\n          _this4.showJournals = _this4.journals.length > 0;\n          _this4.dateFormatted = [];\n          _this4.journalContentFormatted = [];\n\n          _this4.journals.forEach((item, index) => {\n            // Todo: Yeah no I was right this is gross.\n            const timeToExpireString = _this4.journals[index].expire.split(' ');\n\n            const timeToExpireMoment = moment(_this4.journals[index].date);\n            const hourDiff = moment().diff(timeToExpireMoment, 'hours');\n            let hoursToCountdown;\n\n            if (timeToExpireString[1] === 'Days' || timeToExpireString[1] === 'Day') {\n              hoursToCountdown = timeToExpireString[0] * 24;\n            } else if (timeToExpireString[1] === 'Weeks' || timeToExpireString[1] === 'Week') {\n              hoursToCountdown = timeToExpireString[0] * 7 * 24;\n            } else if (timeToExpireString[1] === 'Months' || timeToExpireString[1] === 'Month') {\n              hoursToCountdown = timeToExpireString[0] * 30 * 24;\n            } else if (timeToExpireString[1] === 'Years' || timeToExpireString[1] === 'Year') {\n              hoursToCountdown = timeToExpireString[0] * 365 * 24;\n            }\n\n            const hoursLeft = Math.round(hoursToCountdown - hourDiff);\n\n            if (hoursLeft < 0) {\n              _this4.deleteJournal(_this4.journals[index]);\n\n              _this4.journalsLoaded -= 1;\n              _this4.sortedJournals = _this4.sortedJournals.filter(returnableObjects => returnableObjects.date !== _this4.journals[index].date);\n            } else {\n              _this4.dateFormatted.push(moment(_this4.journals[index].date).format('LLLL'));\n\n              _this4.journalContentFormatted.push(_this4.stripJournalContent(_this4.journals[index].content));\n            }\n          });\n\n          _this4.loadNextFiveJournals(numberLoaded + 1);\n        } else {\n          _this4.loadNextFiveJournals(numberLoaded);\n        }\n      })();\n    }\n\n    loadMemory(id) {\n      var _this5 = this;\n\n      return _asyncToGenerator(function* () {\n        const contents = yield Filesystem.readFile({\n          path: 'Mirror-app/' + id + '.txt',\n          directory: Directory.Documents,\n          encoding: Encoding.UTF8\n        });\n        const output = JSON.parse(contents.data);\n        /* tslint:disable:no-string-literal */\n\n        if (!output['locked'] || _this5.passcode !== undefined && output['locked']) {\n          if (output['locked']) {\n            output['content'] = CryptoJS.AES.decrypt(output['content'], _this5.passcode).toString(CryptoJS.enc.Utf8);\n\n            if (output['notes']) {\n              output['notes'] = CryptoJS.AES.decrypt(output['notes'], _this5.passcode).toString(CryptoJS.enc.Utf8);\n            }\n          }\n\n          output['id'] = id;\n\n          _this5.dateFormattedMemories.push(moment(output.date).format('LLLL'));\n\n          _this5.journalContentFormattedMemories.push(_this5.stripJournalContent(output.content));\n\n          _this5.memories.push(output);\n        }\n      })();\n    }\n\n    loadNextFiveJournals(numberLoaded) {\n      for (const i in this.sortedJournals) {\n        if (this.sortedJournals.hasOwnProperty(i)) {\n          if (parseInt(i) + 1 > this.journalsLoaded && numberLoaded <= 5) {\n            this.loadNextJournal(this.sortedJournals[i].id, numberLoaded);\n            this.journalsLoaded += 1;\n            break;\n          }\n        }\n      }\n\n      this.showLoadmore = this.journalsLoaded < this.sortedJournals.length;\n    }\n\n    loadData(event) {\n      setTimeout(() => {\n        this.loadNextFiveJournals(1);\n        event.target.complete();\n\n        if (!this.showLoadmore) {\n          event.target.disabled = true;\n        }\n      }, 500);\n    }\n\n    createMirrorJournals() {\n      var _this6 = this;\n\n      return _asyncToGenerator(function* () {\n        try {\n          yield Filesystem.mkdir({\n            path: 'Mirror-app',\n            directory: Directory.Documents,\n            recursive: false // like mkdir -p\n\n          });\n\n          try {\n            const result = yield Filesystem.writeFile({\n              path: 'Mirror-app/mirrorJournals.txt',\n              data: '[]',\n              directory: Directory.Documents,\n              encoding: Encoding.UTF8\n            });\n\n            _this6.showWelcomeSceen(); // console.log('Wrote file', result);\n\n          } catch (e) {\n            console.error('Unable to write file', e);\n          }\n        } catch (e) {\n          console.error('Unable to make directory', e);\n        }\n      })();\n    }\n\n    generateMemories(journals) {\n      this.memories = []; // 1 week, 1 month, 6 months, every year\n\n      for (const journal of journals) {\n        // Todo: Maybe a better way to do the year thing.\n        if (journal.hideMemories) {\n          if (moment().subtract(1, 'week').isSame(moment(journal.date), 'date')) {\n            this.loadMemory(journal.id);\n          } else if (moment().subtract(1, 'month').isSame(moment(journal.date), 'date')) {\n            this.loadMemory(journal.id);\n          } else if (moment().subtract(6, 'month').isSame(moment(journal.date), 'date')) {\n            this.loadMemory(journal.id);\n          } else if (moment().subtract(1, 'year').isSame(moment(journal.date), 'date')) {\n            this.loadMemory(journal.id);\n          } else if (moment().subtract(2, 'year').isSame(moment(journal.date), 'date')) {\n            this.loadMemory(journal.id);\n          } else if (moment().subtract(3, 'year').isSame(moment(journal.date), 'date')) {\n            this.loadMemory(journal.id);\n          }\n        }\n      }\n    }\n\n    loadJournal() {\n      var _this7 = this;\n\n      return _asyncToGenerator(function* () {\n        const tempMenuLabel = yield Preferences.get({\n          key: 'menuLabel'\n        });\n\n        if (tempMenuLabel.value) {\n          _this7.menuLabel = tempMenuLabel.value === 'true';\n        }\n\n        _this7.dateFormatted = [];\n        _this7.journalContentFormatted = [];\n        _this7.journals = [];\n        _this7.showJournals = false;\n        _this7.journalsLoaded = 0;\n        Filesystem.readFile({\n          path: 'Mirror-app/mirrorJournals.txt',\n          directory: Directory.Documents,\n          encoding: Encoding.UTF8\n        }).then(contents => {\n          _this7.sortedJournals = JSON.parse(contents.data);\n\n          _this7.sortedJournals.sort((a, b) => {\n            return Number(new Date(b.date)) - Number(new Date(a.date));\n          });\n\n          _this7.generateMemories(_this7.sortedJournals);\n\n          _this7.loadNextFiveJournals(1);\n        }).catch(e => {\n          console.error('file read err', e);\n\n          _this7.createMirrorJournals();\n\n          _this7.showJournals = false;\n        });\n      })();\n    }\n\n    showWelcomeSceen() {\n      var _this8 = this;\n\n      return _asyncToGenerator(function* () {\n        const modal = yield _this8.modalController.create({\n          component: WelcomeScreenComponent,\n          backdropDismiss: false\n        });\n        yield modal.present();\n      })();\n    }\n\n    showWhatsNew() {\n      var _this9 = this;\n\n      return _asyncToGenerator(function* () {\n        const modal = yield _this9.modalController.create({\n          component: WhatsNewComponent,\n          backdropDismiss: false\n        });\n        yield modal.present();\n      })();\n    }\n\n    ionViewWillLeave() {\n      this.routerOutlet.swipeGesture = true;\n    } // loadedJournals\n    // example of adding a transition when pushing a new page\n\n\n    openJournalPage(page, journalToNavigate, action = 'none') {\n      Haptics.impact({\n        style: ImpactStyle.Light\n      });\n      let navigationExtras;\n\n      if (this.passcode !== undefined) {\n        navigationExtras = {\n          state: {\n            journal: journalToNavigate,\n            action: action,\n            passcode: this.passcode\n          }\n        };\n      } else {\n        navigationExtras = {\n          state: {\n            journal: journalToNavigate,\n            action: action\n          }\n        };\n      }\n\n      this.navCtrl.navigateForward(page, navigationExtras);\n    }\n\n    openPage(page) {\n      Haptics.impact({\n        style: ImpactStyle.Light\n      });\n      this.navCtrl.navigateForward(page).then(() => {}).catch(err => {\n        console.log('Error openPage: ' + err);\n      });\n    }\n\n    checkMenuPlacement() {\n      var _this10 = this;\n\n      return _asyncToGenerator(function* () {\n        const tempMenuplacment = yield Preferences.get({\n          key: 'menuplacement'\n        });\n\n        if (tempMenuplacment.value) {\n          _this10.fabPos = parseInt(tempMenuplacment.value);\n        }\n      })();\n    }\n\n    openSettings() {\n      var _this11 = this;\n\n      return _asyncToGenerator(function* () {\n        Haptics.impact({\n          style: ImpactStyle.Light\n        });\n        const modal = yield _this11.modalController.create({\n          component: SettingsComponent\n        });\n        modal.onDidDismiss().then(() => {\n          _this11.passcode = undefined;\n          _this11.lockIcon = 'lock-closed-outline';\n          _this11.lockDesc = 'Unlock';\n\n          _this11.loadJournal();\n\n          _this11.checkMenuPlacement();\n        });\n        return yield modal.present();\n      })();\n    }\n\n    openPasswordDialog() {\n      var _this12 = this;\n\n      return _asyncToGenerator(function* () {\n        Haptics.notification({\n          type: NotificationType.Warning\n        });\n        const modal = yield _this12.modalController.create({\n          component: PasswordDialogComponent\n        });\n        modal.onDidDismiss().then(dataReturned => {\n          if (dataReturned !== null && dataReturned.data !== '') {\n            _this12.passcode = dataReturned.data;\n          }\n\n          _this12.loadJournal();\n        });\n        return yield modal.present();\n      })();\n    }\n\n    askForPasscode() {\n      var _this13 = this;\n\n      return _asyncToGenerator(function* () {\n        const alert = yield _this13.alertController.create({\n          message: 'What is your passcode?',\n          inputs: [{\n            name: 'passcode',\n            type: 'password',\n            placeholder: 'passcode',\n            attributes: {\n              inputmode: 'numeric',\n              pattern: '[0-9]*'\n            }\n          }],\n          buttons: [{\n            text: 'Cancel',\n            role: 'cancel',\n            cssClass: 'secondary',\n            handler: () => {\n              // console.log('Confirm Cancel');\n              _this13.passcode = undefined;\n              Haptics.impact({\n                style: ImpactStyle.Light\n              });\n            }\n          }, {\n            text: 'Ok',\n            handler: out => {\n              if (CryptoJS.AES.decrypt(_this13.passcode, out.passcode).toString(CryptoJS.enc.Utf8) === 'passcode') {\n                _this13.passcode = out.passcode;\n                _this13.lockIcon = 'lock-open-outline';\n                _this13.lockDesc = 'Lock';\n                Haptics.notification({\n                  type: NotificationType.Success\n                });\n\n                _this13.loadJournal();\n              } else {\n                _this13.passcode = undefined;\n                Haptics.notification({\n                  type: NotificationType.Error\n                });\n\n                _this13.unlockLockJournals();\n              }\n            }\n          }]\n        });\n        yield alert.present();\n      })();\n    }\n\n    unlockLockJournals() {\n      var _this14 = this;\n\n      return _asyncToGenerator(function* () {\n        if (_this14.passcode === undefined) {\n          _this14.nativeStorage.getItem('passcode').then(out => {\n            _this14.passcode = out;\n            Haptics.impact({\n              style: ImpactStyle.Light\n            });\n\n            _this14.askForPasscode();\n          }).catch(err => {\n            _this14.openPasswordDialog();\n\n            console.log('Error unlocklock: ' + JSON.stringify(err));\n          });\n        } else {\n          _this14.passcode = undefined;\n          _this14.lockIcon = 'lock-closed-outline';\n          _this14.lockDesc = 'Unlock';\n\n          _this14.loadJournal();\n        }\n      })();\n    }\n\n  }\n\n  HomePage.ɵfac = function HomePage_Factory(t) {\n    return new (t || HomePage)(i0.ɵɵdirectiveInject(i1.ModalController), i0.ɵɵdirectiveInject(i1.PopoverController), i0.ɵɵdirectiveInject(i1.AlertController), i0.ɵɵdirectiveInject(i1.Platform), i0.ɵɵdirectiveInject(i1.IonRouterOutlet), i0.ɵɵdirectiveInject(i1.NavController), i0.ɵɵdirectiveInject(i2.NativeStorage));\n  };\n\n  HomePage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomePage,\n    selectors: [[\"app-home\"]],\n    viewQuery: function HomePage_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(IonInfiniteScroll, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.infiniteScroll = _t.first);\n      }\n    },\n    decls: 14,\n    vars: 7,\n    consts: [[3, \"translucent\"], [3, \"fullscreen\"], [\"collapse\", \"condense\"], [\"size\", \"large\"], [4, \"ngIf\"], [\"vertical\", \"bottom\", \"horizontal\", \"start\", \"slot\", \"fixed\", \"style\", \"margin-bottom: 20pt; margin-left: 10pt;\", 4, \"ngIf\"], [\"vertical\", \"bottom\", \"horizontal\", \"center\", \"slot\", \"fixed\", \"style\", \"margin-bottom: 20pt;\", 4, \"ngIf\"], [\"vertical\", \"bottom\", \"horizontal\", \"end\", \"slot\", \"fixed\", \"style\", \"margin-bottom: 20pt; margin-right: 10pt;\", 4, \"ngIf\"], [\"sizeLg\", \"6\", \"sizeMd\", \"6\", \"sizeXs\", \"12\", 4, \"ngFor\", \"ngForOf\"], [\"threshold\", \"80px\", 3, \"ionInfinite\"], [\"loadingSpinner\", \"bubbles\", \"loadingText\", \"Loading more journal entries...\"], [1, \"ion-padding-start\", \"ion-padding-start\"], [3, \"options\"], [4, \"ngFor\", \"ngForOf\"], [1, \"dotted\"], [2, \"text-align\", \"left\", 3, \"click\"], [\"size\", \"11\", \"offset\", \"0\", 2, \"--ion-grid-column-padding\", \"0\", 3, \"click\"], [\"size\", \"1\", \"offset\", \"0\", 2, \"--ion-grid-column-padding\", \"0\"], [\"name\", \"ellipsis-horizontal-outline\", 3, \"click\"], [3, \"innerHTML\"], [\"color\", \"danger\"], [\"sizeLg\", \"6\", \"sizeMd\", \"6\", \"sizeXs\", \"12\"], [2, \"margin-bottom\", \"0\", \"margin-top\", \"8px\"], [2, \"--ion-grid-padding\", \"0\"], [3, \"click\"], [3, \"click\", 4, \"ngIf\"], [3, \"innerHTML\", \"click\"], [2, \"text-align\", \"center\"], [\"src\", \"../assets/mirror-images/assembly 5.png\", 2, \"height\", \"300px\", \"margin-top\", \"10px\"], [\"vertical\", \"bottom\", \"horizontal\", \"start\", \"slot\", \"fixed\", 2, \"margin-bottom\", \"20pt\", \"margin-left\", \"10pt\"], [\"name\", \"menu-outline\"], [\"side\", \"top\"], [\"data-desc\", \"Settings\", \"class\", \"desc-right\", 3, \"click\", 4, \"ngIf\"], [\"data-desc\", \"Unlock\", \"class\", \"desc-left\", 3, \"click\", 4, \"ngIf\"], [\"data-desc\", \"Lock\", \"class\", \"desc-left\", 3, \"click\", 4, \"ngIf\"], [\"data-desc\", \"New\", \"class\", \"desc-up\", 3, \"click\", 4, \"ngIf\"], [\"name\", \"cog\"], [\"data-desc\", \"Settings\", 1, \"desc-right\", 3, \"click\"], [3, \"name\"], [\"data-desc\", \"Unlock\", 1, \"desc-left\", 3, \"click\"], [\"data-desc\", \"Lock\", 1, \"desc-left\", 3, \"click\"], [\"name\", \"add\"], [\"data-desc\", \"New\", 1, \"desc-up\", 3, \"click\"], [\"vertical\", \"bottom\", \"horizontal\", \"center\", \"slot\", \"fixed\", 2, \"margin-bottom\", \"20pt\"], [\"side\", \"start\"], [\"side\", \"end\"], [\"vertical\", \"bottom\", \"horizontal\", \"end\", \"slot\", \"fixed\", 2, \"margin-bottom\", \"20pt\", \"margin-right\", \"10pt\"]],\n    template: function HomePage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\")(2, \"ion-title\");\n        i0.ɵɵtext(3, \"Journal Entries\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(4, \"ion-content\", 1)(5, \"ion-header\", 2)(6, \"ion-toolbar\")(7, \"ion-title\", 3);\n        i0.ɵɵtext(8, \"Journal Entries\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(9, HomePage_div_9_Template, 11, 2, \"div\", 4);\n        i0.ɵɵtemplate(10, HomePage_ion_card_10_Template, 8, 0, \"ion-card\", 4);\n        i0.ɵɵtemplate(11, HomePage_ion_fab_11_Template, 11, 7, \"ion-fab\", 5);\n        i0.ɵɵtemplate(12, HomePage_ion_fab_12_Template, 13, 7, \"ion-fab\", 6);\n        i0.ɵɵtemplate(13, HomePage_ion_fab_13_Template, 11, 7, \"ion-fab\", 7);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"translucent\", true);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"fullscreen\", true);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.showJournals);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.showJournals);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.fabPos == 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.fabPos == 1);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.fabPos == 2);\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf, i1.IonBadge, i1.IonCard, i1.IonCardContent, i1.IonCardHeader, i1.IonCardSubtitle, i1.IonCardTitle, i1.IonCol, i1.IonContent, i1.IonFab, i1.IonFabButton, i1.IonFabList, i1.IonGrid, i1.IonHeader, i1.IonIcon, i1.IonInfiniteScroll, i1.IonInfiniteScrollContent, i1.IonRow, i1.IonTitle, i1.IonToolbar, i4.ɵb]\n  });\n  return HomePage;\n})();","map":null,"metadata":{},"sourceType":"module"}