{"ast":null,"code":"import _asyncToGenerator from \"/Users/andrewrodebaugh/Downloads/think-app-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as moment from 'moment';\nimport { NewAnalyzeComponent } from '../new-analyze/new-analyze.component';\nimport * as CryptoJS from 'crypto-js';\nimport { NotesListComponent } from '../notes-list/notes-list.component';\nimport { Directory, Encoding, Filesystem } from '@capacitor/filesystem';\nimport { Haptics, ImpactStyle, NotificationType } from '@capacitor/haptics';\nimport { Keyboard, KeyboardStyle } from '@capacitor/keyboard';\nimport { Preferences } from '@capacitor/preferences';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@awesome-cordova-plugins/native-storage/ngx\";\nimport * as i4 from \"@angular/common\";\n\nfunction JournalViewPage_img_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 13);\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"src\", ctx_r0.data.headerImage, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction JournalViewPage_ion_chip_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-chip\", 5)(1, \"ion-label\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r1.data.mood, \" Mood\");\n  }\n}\n\nfunction JournalViewPage_ion_chip_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-chip\", 5)(1, \"ion-label\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r2.data.activity, \" Activity\");\n  }\n}\n\nfunction JournalViewPage_ion_label_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-label\", 14);\n    i0.ɵɵlistener(\"click\", function JournalViewPage_ion_label_17_Template_ion_label_click_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.viewNotes());\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"\\uD83D\\uDD0D \", ctx_r3.data.notes.length, \" \", ctx_r3.data.notes.length > 1 ? \"notes\" : \"note\", \"\");\n  }\n}\n\nfunction JournalViewPage_ion_label_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-label\", 14);\n    i0.ɵɵlistener(\"click\", function JournalViewPage_ion_label_18_Template_ion_label_click_0_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.viewNotes());\n    });\n    i0.ɵɵtext(1, \"\\uD83D\\uDD0D 0 notes\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction JournalViewPage_ion_chip_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-chip\", 15)(1, \"ion-label\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\\u231B \", ctx_r5.timeToExpire, \"\");\n  }\n}\n\nfunction JournalViewPage_ion_fab_26_ion_fab_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 14);\n    i0.ɵɵlistener(\"click\", function JournalViewPage_ion_fab_26_ion_fab_button_4_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r19 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r19.editJournal());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 22);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction JournalViewPage_ion_fab_26_ion_fab_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 23);\n    i0.ɵɵlistener(\"click\", function JournalViewPage_ion_fab_26_ion_fab_button_5_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r21 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r21.editJournal());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 22);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction JournalViewPage_ion_fab_26_ion_fab_button_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 14);\n    i0.ɵɵlistener(\"click\", function JournalViewPage_ion_fab_26_ion_fab_button_6_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r23 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r23.analyzeJournal());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 24);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction JournalViewPage_ion_fab_26_ion_fab_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 25);\n    i0.ɵɵlistener(\"click\", function JournalViewPage_ion_fab_26_ion_fab_button_7_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r26);\n      const ctx_r25 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r25.analyzeJournal());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 24);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction JournalViewPage_ion_fab_26_ion_fab_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 14);\n    i0.ɵɵlistener(\"click\", function JournalViewPage_ion_fab_26_ion_fab_button_8_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r27 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r27.trashJournal());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 26);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction JournalViewPage_ion_fab_26_ion_fab_button_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r30 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 27);\n    i0.ɵɵlistener(\"click\", function JournalViewPage_ion_fab_26_ion_fab_button_9_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r30);\n      const ctx_r29 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r29.trashJournal());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 26);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction JournalViewPage_ion_fab_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-fab\", 16)(1, \"ion-fab-button\");\n    i0.ɵɵelement(2, \"ion-icon\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-fab-list\", 18);\n    i0.ɵɵtemplate(4, JournalViewPage_ion_fab_26_ion_fab_button_4_Template, 2, 0, \"ion-fab-button\", 6);\n    i0.ɵɵtemplate(5, JournalViewPage_ion_fab_26_ion_fab_button_5_Template, 2, 0, \"ion-fab-button\", 19);\n    i0.ɵɵtemplate(6, JournalViewPage_ion_fab_26_ion_fab_button_6_Template, 2, 0, \"ion-fab-button\", 6);\n    i0.ɵɵtemplate(7, JournalViewPage_ion_fab_26_ion_fab_button_7_Template, 2, 0, \"ion-fab-button\", 20);\n    i0.ɵɵtemplate(8, JournalViewPage_ion_fab_26_ion_fab_button_8_Template, 2, 0, \"ion-fab-button\", 6);\n    i0.ɵɵtemplate(9, JournalViewPage_ion_fab_26_ion_fab_button_9_Template, 2, 0, \"ion-fab-button\", 21);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r6.menuLabel);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.menuLabel);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r6.menuLabel);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.menuLabel);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r6.menuLabel);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.menuLabel);\n  }\n}\n\nfunction JournalViewPage_ion_fab_27_ion_fab_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r38 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 14);\n    i0.ɵɵlistener(\"click\", function JournalViewPage_ion_fab_27_ion_fab_button_4_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r37 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r37.trashJournal());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 26);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction JournalViewPage_ion_fab_27_ion_fab_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r40 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 27);\n    i0.ɵɵlistener(\"click\", function JournalViewPage_ion_fab_27_ion_fab_button_5_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r40);\n      const ctx_r39 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r39.trashJournal());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 26);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction JournalViewPage_ion_fab_27_ion_fab_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r42 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 14);\n    i0.ɵɵlistener(\"click\", function JournalViewPage_ion_fab_27_ion_fab_button_7_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r42);\n      const ctx_r41 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r41.analyzeJournal());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 24);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction JournalViewPage_ion_fab_27_ion_fab_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r44 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 25);\n    i0.ɵɵlistener(\"click\", function JournalViewPage_ion_fab_27_ion_fab_button_8_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r44);\n      const ctx_r43 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r43.analyzeJournal());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 24);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction JournalViewPage_ion_fab_27_ion_fab_button_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r46 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 14);\n    i0.ɵɵlistener(\"click\", function JournalViewPage_ion_fab_27_ion_fab_button_10_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r46);\n      const ctx_r45 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r45.editJournal());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 22);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction JournalViewPage_ion_fab_27_ion_fab_button_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r48 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 23);\n    i0.ɵɵlistener(\"click\", function JournalViewPage_ion_fab_27_ion_fab_button_11_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r48);\n      const ctx_r47 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r47.editJournal());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 22);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction JournalViewPage_ion_fab_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-fab\", 28)(1, \"ion-fab-button\");\n    i0.ɵɵelement(2, \"ion-icon\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-fab-list\", 18);\n    i0.ɵɵtemplate(4, JournalViewPage_ion_fab_27_ion_fab_button_4_Template, 2, 0, \"ion-fab-button\", 6);\n    i0.ɵɵtemplate(5, JournalViewPage_ion_fab_27_ion_fab_button_5_Template, 2, 0, \"ion-fab-button\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"ion-fab-list\", 29);\n    i0.ɵɵtemplate(7, JournalViewPage_ion_fab_27_ion_fab_button_7_Template, 2, 0, \"ion-fab-button\", 6);\n    i0.ɵɵtemplate(8, JournalViewPage_ion_fab_27_ion_fab_button_8_Template, 2, 0, \"ion-fab-button\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"ion-fab-list\", 30);\n    i0.ɵɵtemplate(10, JournalViewPage_ion_fab_27_ion_fab_button_10_Template, 2, 0, \"ion-fab-button\", 6);\n    i0.ɵɵtemplate(11, JournalViewPage_ion_fab_27_ion_fab_button_11_Template, 2, 0, \"ion-fab-button\", 19);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r7.menuLabel);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.menuLabel);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r7.menuLabel);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.menuLabel);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r7.menuLabel);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.menuLabel);\n  }\n}\n\nfunction JournalViewPage_ion_fab_28_ion_fab_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r56 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 14);\n    i0.ɵɵlistener(\"click\", function JournalViewPage_ion_fab_28_ion_fab_button_4_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r56);\n      const ctx_r55 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r55.editJournal());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 22);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction JournalViewPage_ion_fab_28_ion_fab_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r58 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 23);\n    i0.ɵɵlistener(\"click\", function JournalViewPage_ion_fab_28_ion_fab_button_5_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r58);\n      const ctx_r57 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r57.editJournal());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 22);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction JournalViewPage_ion_fab_28_ion_fab_button_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r60 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 14);\n    i0.ɵɵlistener(\"click\", function JournalViewPage_ion_fab_28_ion_fab_button_6_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r60);\n      const ctx_r59 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r59.analyzeJournal());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 24);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction JournalViewPage_ion_fab_28_ion_fab_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r62 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 25);\n    i0.ɵɵlistener(\"click\", function JournalViewPage_ion_fab_28_ion_fab_button_7_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r62);\n      const ctx_r61 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r61.analyzeJournal());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 24);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction JournalViewPage_ion_fab_28_ion_fab_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r64 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 14);\n    i0.ɵɵlistener(\"click\", function JournalViewPage_ion_fab_28_ion_fab_button_8_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r64);\n      const ctx_r63 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r63.trashJournal());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 26);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction JournalViewPage_ion_fab_28_ion_fab_button_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r66 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-fab-button\", 27);\n    i0.ɵɵlistener(\"click\", function JournalViewPage_ion_fab_28_ion_fab_button_9_Template_ion_fab_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r66);\n      const ctx_r65 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r65.trashJournal());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 26);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction JournalViewPage_ion_fab_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-fab\", 31)(1, \"ion-fab-button\");\n    i0.ɵɵelement(2, \"ion-icon\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-fab-list\", 18);\n    i0.ɵɵtemplate(4, JournalViewPage_ion_fab_28_ion_fab_button_4_Template, 2, 0, \"ion-fab-button\", 6);\n    i0.ɵɵtemplate(5, JournalViewPage_ion_fab_28_ion_fab_button_5_Template, 2, 0, \"ion-fab-button\", 19);\n    i0.ɵɵtemplate(6, JournalViewPage_ion_fab_28_ion_fab_button_6_Template, 2, 0, \"ion-fab-button\", 6);\n    i0.ɵɵtemplate(7, JournalViewPage_ion_fab_28_ion_fab_button_7_Template, 2, 0, \"ion-fab-button\", 20);\n    i0.ɵɵtemplate(8, JournalViewPage_ion_fab_28_ion_fab_button_8_Template, 2, 0, \"ion-fab-button\", 6);\n    i0.ɵɵtemplate(9, JournalViewPage_ion_fab_28_ion_fab_button_9_Template, 2, 0, \"ion-fab-button\", 21);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r8.menuLabel);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.menuLabel);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r8.menuLabel);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.menuLabel);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r8.menuLabel);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.menuLabel);\n  }\n}\n\nexport let JournalViewPage = /*#__PURE__*/(() => {\n  class JournalViewPage {\n    constructor(platform, modalController, alertController, routerOutlet, toastController, route, router, navCtrl, nativeStorage) {\n      this.platform = platform;\n      this.modalController = modalController;\n      this.alertController = alertController;\n      this.routerOutlet = routerOutlet;\n      this.toastController = toastController;\n      this.route = route;\n      this.router = router;\n      this.navCtrl = navCtrl;\n      this.nativeStorage = nativeStorage;\n      this.menuLabel = false;\n      this.fontsize = '';\n      this.fabPos = 1;\n      this.route.queryParams.subscribe(params => {\n        if (this.router.getCurrentNavigation().extras.state) {\n          this.data = this.router.getCurrentNavigation().extras.state.journal;\n\n          if (this.router.getCurrentNavigation().extras.state.passcode) {\n            this.passcode = this.router.getCurrentNavigation().extras.state.passcode;\n          }\n\n          if (this.router.getCurrentNavigation().extras.state.action === 'edit') {\n            this.editJournal();\n          } else if (this.router.getCurrentNavigation().extras.state.action === 'delete') {\n            this.trashJournal();\n          } else if (this.router.getCurrentNavigation().extras.state.action === 'create') {\n            this.analyzeJournal();\n          }\n\n          this.dateFormatted = moment(this.data.date).format('LLLL');\n        } else {\n          this.navCtrl.navigateBack('/');\n        }\n      });\n    }\n\n    ngOnInit() {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        const tempMenuLabel = yield Preferences.get({\n          key: 'menuLabel'\n        });\n\n        if (tempMenuLabel.value) {\n          _this.menuLabel = tempMenuLabel.value === 'true';\n        }\n\n        _this.platform.ready().then(() => {\n          const systemDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\n\n          if (systemDark) {\n            Keyboard.setStyle({\n              style: KeyboardStyle.Dark\n            });\n          } else {\n            Keyboard.setStyle({\n              style: KeyboardStyle.Light\n            });\n          }\n        });\n      })();\n    }\n\n    ionViewWillLeave() {\n      this.routerOutlet.swipeGesture = true;\n    }\n\n    ionViewDidEnter() {\n      var _this2 = this;\n\n      return _asyncToGenerator(function* () {\n        const tempFontsize = yield Preferences.get({\n          key: 'fontsize'\n        });\n\n        if (tempFontsize.value) {\n          _this2.fontsize = tempFontsize.value;\n\n          if (_this2.fontsize === 'default') {\n            _this2.fontsize = '';\n          } else {\n            _this2.fontsize = _this2.fontsize + 'px';\n          }\n        }\n\n        const tempMenuplacment = yield Preferences.get({\n          key: 'menuplacement'\n        });\n\n        if (tempMenuplacment.value) {\n          _this2.fabPos = parseInt(tempMenuplacment.value);\n        }\n\n        const timeToExpireString = _this2.data.expire.split(' ');\n\n        const timeToExpireMoment = moment(_this2.data.date);\n        const hourDiff = moment().diff(timeToExpireMoment, 'hours');\n        let hoursToCountdown;\n\n        if (timeToExpireString[1] === 'Days' || timeToExpireString[1] === 'Day') {\n          hoursToCountdown = timeToExpireString[0] * 24;\n        } else if (timeToExpireString[1] === 'Weeks' || timeToExpireString[1] === 'Week') {\n          hoursToCountdown = timeToExpireString[0] * 7 * 24;\n        } else if (timeToExpireString[1] === 'Months' || timeToExpireString[1] === 'Month') {\n          hoursToCountdown = timeToExpireString[0] * 30 * 24;\n        } else if (timeToExpireString[1] === 'Years' || timeToExpireString[1] === 'Year') {\n          hoursToCountdown = timeToExpireString[0] * 365 * 24;\n        }\n\n        let hoursLeft = Math.round(hoursToCountdown - hourDiff);\n\n        if (hoursLeft < 0) {\n          alert('This should have been deleted?');\n        } else {\n          _this2.timeToExpire = '';\n          const yearsLeft = Math.floor(hoursLeft / 8760);\n          hoursLeft = hoursLeft % 8760;\n          const monthsLeft = Math.floor(hoursLeft / 720);\n          hoursLeft = hoursLeft % 720;\n          const weeksLeft = Math.floor(hoursLeft / 168);\n          hoursLeft = hoursLeft % 168;\n          const daysLeft = Math.floor(hoursLeft / 24);\n          hoursLeft = hoursLeft % 24;\n\n          if (yearsLeft > 1) {\n            _this2.timeToExpire += yearsLeft + ' Years';\n          } else if (yearsLeft === 1) {\n            _this2.timeToExpire += yearsLeft + ' Year';\n          }\n\n          if (monthsLeft > 1) {\n            _this2.timeToExpire += ' ' + yearsLeft + ' Months';\n          } else if (monthsLeft === 1) {\n            _this2.timeToExpire += ' ' + yearsLeft + ' Month';\n          }\n\n          if (weeksLeft > 1) {\n            _this2.timeToExpire += ' ' + weeksLeft + ' Weeks';\n          } else if (weeksLeft === 1) {\n            _this2.timeToExpire += ' ' + weeksLeft + ' Week';\n          }\n\n          if (daysLeft > 1) {\n            _this2.timeToExpire += ' ' + daysLeft + ' Days';\n          } else if (daysLeft === 1) {\n            _this2.timeToExpire += ' ' + daysLeft + ' Day';\n          }\n\n          if (hoursLeft > 1) {\n            _this2.timeToExpire += ' ' + hoursLeft + ' Hours';\n          } else if (hoursLeft === 1) {\n            _this2.timeToExpire += ' ' + hoursLeft + ' Hour';\n          }\n\n          _this2.timeToExpire = _this2.timeToExpire.trim();\n        }\n      })();\n    }\n\n    deleteJournal(toast) {\n      var _this3 = this;\n\n      return _asyncToGenerator(function* () {\n        const data = _this3.data;\n        const contents = yield Filesystem.readFile({\n          path: 'Mirror-app/mirrorJournals.txt',\n          directory: Directory.Documents,\n          encoding: Encoding.UTF8\n        });\n        let outParsed = JSON.parse(contents.data);\n\n        for (const i in outParsed) {\n          if (outParsed.hasOwnProperty(i)) {\n            if (outParsed[i].id === data.id) {\n              outParsed = outParsed.filter(returnableObjects => returnableObjects.id !== data.id);\n              yield Filesystem.deleteFile({\n                path: 'Mirror-app/' + data.id + '.txt',\n                directory: Directory.Documents\n              });\n\n              try {\n                const result = yield Filesystem.writeFile({\n                  path: 'Mirror-app/mirrorJournals.txt',\n                  data: JSON.stringify(outParsed),\n                  directory: Directory.Documents,\n                  encoding: Encoding.UTF8\n                });\n                Haptics.notification({\n                  type: NotificationType.Success\n                });\n                toast.present();\n\n                _this3.navCtrl.navigateBack('/'); // console.log('Wrote file', result);\n\n              } catch (e) {\n                console.error('Unable to write file', e);\n              }\n            }\n          }\n        }\n      })();\n    }\n\n    trashJournal() {\n      var _this4 = this;\n\n      return _asyncToGenerator(function* () {\n        const toast = yield _this4.toastController.create({\n          message: 'Your journal \\'' + _this4.data.name + '\\' has been deleted.',\n          position: 'top',\n          color: 'primary',\n          duration: 2000,\n          buttons: [{\n            text: 'Dismiss',\n            role: 'cancel',\n            handler: () => {// log('Cancel clicked');\n            }\n          }]\n        });\n        const alert = yield _this4.alertController.create({\n          header: '🚨 Are you sure? 🚨',\n          message: 'This action cannot be reversed.',\n          buttons: [{\n            text: 'Never mind',\n            role: 'cancel'\n          }, {\n            text: 'Delete',\n            cssClass: 'danger',\n            handler: () => {\n              _this4.deleteJournal(toast);\n            }\n          }]\n        });\n        yield alert.present();\n      })();\n    }\n\n    askForPasscode(modal) {\n      var _this5 = this;\n\n      return _asyncToGenerator(function* () {\n        const alert = yield _this5.alertController.create({\n          message: 'What is your passcode?',\n          inputs: [{\n            name: 'passcode',\n            type: 'password',\n            placeholder: 'passcode',\n            attributes: {\n              inputmode: 'numeric',\n              pattern: '[0-9]*'\n            }\n          }],\n          buttons: [{\n            text: 'Cancel',\n            role: 'cancel',\n            cssClass: 'secondary',\n            handler: () => {\n              // console.log('Confirm Cancel');\n              _this5.passcode = undefined;\n              Haptics.impact({\n                style: ImpactStyle.Light\n              });\n            }\n          }, {\n            text: 'Ok',\n            handler: out => {\n              if (CryptoJS.AES.decrypt(_this5.passcode, out.passcode).toString(CryptoJS.enc.Utf8) === 'passcode') {\n                Haptics.impact({\n                  style: ImpactStyle.Light\n                });\n                _this5.passcode = out.passcode;\n                modal.present();\n              } else {\n                _this5.askForPasscode(modal);\n              }\n            }\n          }]\n        });\n        yield alert.present();\n      })();\n    }\n\n    saveNoteToFile(saveData, toast) {\n      var _this6 = this;\n\n      return _asyncToGenerator(function* () {\n        const fileName = 'Mirror-app/' + _this6.data.id + '.txt';\n\n        try {\n          const result = yield Filesystem.writeFile({\n            path: fileName,\n            data: JSON.stringify(_this6.data),\n            directory: Directory.Documents,\n            encoding: Encoding.UTF8\n          }); // log('Wrote file', result);\n\n          toast.present();\n        } catch (e) {\n          console.error('Unable to write file', e);\n        }\n\n        _this6.data.content = CryptoJS.AES.decrypt(_this6.data.content, _this6.passcode).toString(CryptoJS.enc.Utf8);\n        _this6.data.notes = JSON.parse(CryptoJS.AES.decrypt(_this6.data.notes, _this6.passcode).toString(CryptoJS.enc.Utf8));\n      })();\n    }\n\n    tryToEncrypt(saveData, toast) {\n      if (this.data.locked) {\n        this.data.content = CryptoJS.AES.encrypt(this.data.content, this.passcode).toString();\n        this.data.notes = CryptoJS.AES.encrypt(JSON.stringify(this.data.notes), this.passcode).toString();\n      }\n\n      this.saveNoteToFile(saveData, toast);\n    }\n\n    analyzeJournal() {\n      var _this7 = this;\n\n      return _asyncToGenerator(function* () {\n        const toast = yield _this7.toastController.create({\n          message: 'Your note has been saved!',\n          position: 'top',\n          color: 'primary',\n          duration: 2000,\n          buttons: [{\n            text: 'Dismiss',\n            role: 'cancel',\n            handler: () => {// console.log('Cancel clicked');\n            }\n          }]\n        });\n        const modal = yield _this7.modalController.create({\n          component: NewAnalyzeComponent,\n          componentProps: {\n            pickerName: 'New Note',\n            data: _this7.data,\n            newNote: true\n          }\n        });\n        modal.onDidDismiss().then(dataReturned => {\n          if (dataReturned !== null && dataReturned.data !== undefined) {\n            if (_this7.data.notes) {\n              _this7.data.notes.push(dataReturned.data);\n            } else {\n              _this7.data.notes = [dataReturned.data];\n            }\n\n            _this7.data.notes = _this7.data.notes.filter(e => e);\n\n            _this7.tryToEncrypt(_this7.data, toast);\n          }\n        });\n\n        if (_this7.data.locked) {\n          _this7.nativeStorage.getItem('passcode').then(out => {\n            _this7.passcode = out;\n\n            _this7.askForPasscode(modal);\n          }).catch(err => {\n            alert('Error getting passcode ' + err);\n          });\n        } else {\n          Haptics.impact({\n            style: ImpactStyle.Light\n          });\n          yield modal.present();\n        }\n      })();\n    }\n\n    viewNotes() {\n      var _this8 = this;\n\n      return _asyncToGenerator(function* () {\n        const toast = yield _this8.toastController.create({\n          message: 'Your note has been deleted!',\n          position: 'top',\n          color: 'primary',\n          duration: 2000,\n          buttons: [{\n            text: 'Dismiss',\n            role: 'cancel',\n            handler: () => {// console.log('Cancel clicked');\n            }\n          }]\n        });\n        Haptics.impact({\n          style: ImpactStyle.Light\n        });\n        const modal = yield _this8.modalController.create({\n          component: NotesListComponent,\n          componentProps: {\n            notes: _this8.data.notes\n          }\n        });\n        modal.onDidDismiss().then(dataReturned => {\n          if (dataReturned !== null && dataReturned.data !== undefined) {\n            if (dataReturned.data === 1) {\n              _this8.analyzeJournal();\n            } else {\n              _this8.data.notes = _this8.data.notes.filter(f => f !== dataReturned.data);\n\n              _this8.tryToEncrypt(_this8.data, toast);\n            }\n          } else {\n            Haptics.impact({\n              style: ImpactStyle.Light\n            });\n          }\n        });\n        yield modal.present();\n      })();\n    }\n\n    editJournal() {\n      Haptics.impact({\n        style: ImpactStyle.Light\n      });\n      let navigationExtras;\n\n      if (this.passcode) {\n        navigationExtras = {\n          state: {\n            journalName: this.data.name,\n            expireLabelText: this.data.expire,\n            mood: this.data.mood,\n            activity: this.data.activity,\n            created: this.data.date,\n            journalContent: this.data.content,\n            journalID: this.data.id,\n            headerImageData: this.data.headerImage,\n            lockState: this.data.locked,\n            passcode: this.passcode\n          }\n        };\n      } else {\n        navigationExtras = {\n          state: {\n            journalName: this.data.name,\n            expireLabelText: this.data.expire,\n            mood: this.data.mood,\n            activity: this.data.activity,\n            created: this.data.date,\n            journalContent: this.data.content,\n            journalID: this.data.id,\n            headerImageData: this.data.headerImage,\n            lockState: this.data.locked\n          }\n        };\n      }\n\n      this.navCtrl.navigateForward('/journal-new', navigationExtras);\n    }\n\n  }\n\n  JournalViewPage.ɵfac = function JournalViewPage_Factory(t) {\n    return new (t || JournalViewPage)(i0.ɵɵdirectiveInject(i1.Platform), i0.ɵɵdirectiveInject(i1.ModalController), i0.ɵɵdirectiveInject(i1.AlertController), i0.ɵɵdirectiveInject(i1.IonRouterOutlet), i0.ɵɵdirectiveInject(i1.ToastController), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i1.NavController), i0.ɵɵdirectiveInject(i3.NativeStorage));\n  };\n\n  JournalViewPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: JournalViewPage,\n    selectors: [[\"app-journal-view\"]],\n    decls: 29,\n    vars: 14,\n    consts: [[\"slot\", \"start\"], [\"defaultHref\", \"/\", \"text\", \"Home\"], [3, \"src\", 4, \"ngIf\"], [2, \"text-align\", \"center\"], [\"color\", \"primary\", 4, \"ngIf\"], [\"color\", \"primary\"], [3, \"click\", 4, \"ngIf\"], [\"color\", \"danger\", 4, \"ngIf\"], [\"id\", \"journal-display\", 2, \"margin-left\", \"10pt\", \"margin-right\", \"10pt\"], [3, \"innerHTML\"], [\"vertical\", \"bottom\", \"horizontal\", \"start\", \"slot\", \"fixed\", \"style\", \"margin-bottom: 20pt; margin-left: 10pt;\", 4, \"ngIf\"], [\"vertical\", \"bottom\", \"horizontal\", \"center\", \"slot\", \"fixed\", \"style\", \"margin-bottom: 20pt;\", 4, \"ngIf\"], [\"vertical\", \"bottom\", \"horizontal\", \"end\", \"slot\", \"fixed\", \"style\", \"margin-bottom: 20pt; margin-right: 10pt;\", 4, \"ngIf\"], [3, \"src\"], [3, \"click\"], [\"color\", \"danger\"], [\"vertical\", \"bottom\", \"horizontal\", \"start\", \"slot\", \"fixed\", 2, \"margin-bottom\", \"20pt\", \"margin-left\", \"10pt\"], [\"name\", \"cog\"], [\"side\", \"top\"], [\"data-desc\", \"Edit\", \"class\", \"desc-right\", 3, \"click\", 4, \"ngIf\"], [\"data-desc\", \"Note\", \"class\", \"desc-left\", 3, \"click\", 4, \"ngIf\"], [\"data-desc\", \"Delete\", \"class\", \"desc-up\", 3, \"click\", 4, \"ngIf\"], [\"name\", \"create-outline\"], [\"data-desc\", \"Edit\", 1, \"desc-right\", 3, \"click\"], [\"name\", \"search-outline\"], [\"data-desc\", \"Note\", 1, \"desc-left\", 3, \"click\"], [\"name\", \"trash\"], [\"data-desc\", \"Delete\", 1, \"desc-up\", 3, \"click\"], [\"vertical\", \"bottom\", \"horizontal\", \"center\", \"slot\", \"fixed\", 2, \"margin-bottom\", \"20pt\"], [\"side\", \"start\"], [\"side\", \"end\"], [\"vertical\", \"bottom\", \"horizontal\", \"end\", \"slot\", \"fixed\", 2, \"margin-bottom\", \"20pt\", \"margin-right\", \"10pt\"]],\n    template: function JournalViewPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-buttons\", 0);\n        i0.ɵɵelement(3, \"ion-back-button\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"ion-title\");\n        i0.ɵɵtext(5);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(6, \"ion-content\")(7, \"ion-card\");\n        i0.ɵɵtemplate(8, JournalViewPage_img_8_Template, 1, 1, \"img\", 2);\n        i0.ɵɵelementStart(9, \"ion-card-header\")(10, \"ion-card-subtitle\", 3);\n        i0.ɵɵtext(11);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(12, \"ion-card-content\")(13, \"div\", 3);\n        i0.ɵɵtemplate(14, JournalViewPage_ion_chip_14_Template, 3, 1, \"ion-chip\", 4);\n        i0.ɵɵtemplate(15, JournalViewPage_ion_chip_15_Template, 3, 1, \"ion-chip\", 4);\n        i0.ɵɵelementStart(16, \"ion-chip\", 5);\n        i0.ɵɵtemplate(17, JournalViewPage_ion_label_17_Template, 2, 2, \"ion-label\", 6);\n        i0.ɵɵtemplate(18, JournalViewPage_ion_label_18_Template, 2, 0, \"ion-label\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(19, JournalViewPage_ion_chip_19_Template, 3, 1, \"ion-chip\", 7);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(20, \"div\", 8)(21, \"ion-text\");\n        i0.ɵɵelement(22, \"div\", 9)(23, \"br\")(24, \"br\")(25, \"br\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(26, JournalViewPage_ion_fab_26_Template, 10, 6, \"ion-fab\", 10);\n        i0.ɵɵtemplate(27, JournalViewPage_ion_fab_27_Template, 12, 6, \"ion-fab\", 11);\n        i0.ɵɵtemplate(28, JournalViewPage_ion_fab_28_Template, 10, 6, \"ion-fab\", 12);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.data.name);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.data.headerImage !== undefined || ctx.data.headerImage !== null);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.dateFormatted);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.data.mood !== null);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.data.activity !== null);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.data.notes !== undefined);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.data.notes === undefined);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.data.expire != \"Never\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵstyleProp(\"font-size\", ctx.fontsize);\n        i0.ɵɵproperty(\"innerHTML\", ctx.data.content, i0.ɵɵsanitizeHtml);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.fabPos == 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.fabPos == 1);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.fabPos == 2);\n      }\n    },\n    dependencies: [i4.NgIf, i1.IonBackButton, i1.IonButtons, i1.IonCard, i1.IonCardContent, i1.IonCardHeader, i1.IonCardSubtitle, i1.IonChip, i1.IonContent, i1.IonFab, i1.IonFabButton, i1.IonFabList, i1.IonHeader, i1.IonIcon, i1.IonLabel, i1.IonText, i1.IonTitle, i1.IonToolbar, i1.IonBackButtonDelegate]\n  });\n  return JournalViewPage;\n})();","map":null,"metadata":{},"sourceType":"module"}